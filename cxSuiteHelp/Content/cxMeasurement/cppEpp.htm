<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="8" MadCap:lastHeight="1906" MadCap:lastWidth="1439" class="Topic">
    <head>
        <link href="../Resources/Stylesheets/CX_Styles.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>CPPs/EPPs</h1>
        <p><span class="wintitle">Customer Passed Parameters (CPPs)</span> and <span class="wintitle">External Passed Parameters (EPPs)</span> are primarily used by clients to segment data within the <span class="wintitle">Portal</span> for an increased level of granularity. Analysts can also use them to increase the relevance of their <span class="wintitle">Satisfaction Insight Reviews (SIRs)</span>.</p>
        <p><b>CPP</b> - A Customer Passed Parameter is a data point created by, or currently available from, the client that is captured at the time of survey submission.  CPPs can typically be captured with either a variable, cookie, or a URL string that is accessible while the ForeSee code is running. Click <a href="https://developer.foresee.com/docs/default-cpps" target="_blank" title="[%=Tooltips.Tooltip Web Site%]" alt="[%=Tooltips.Tooltip Web Site%]">here</a> for additional information and to view a list of <span class="wintitle">Default CPPs</span>.</p>
        <p><b>EPP</b> - An External Passed Parameter is a data point provided by an external file.  Data fields are sent in a separate data file, are matched up by the client and then loaded to the portal or appended by IS.</p>
        <h2><a name="DEPLOYME"></a>Deployment Types That Can Capture CPPs</h2>
        <ul>
            <li><a href="triggerCode.htm" title="[%=Tooltips.Tooltip Topic%]" alt="[%=Tooltips.Tooltip Topic%]">Trigger Code</a>
                <ul>
                    <li>Hosted Code</li>
                    <li>Legacy Code</li>
                </ul>
            </li>
            <li><a href="sdk.htm" title="[%=Tooltips.Tooltip Topic%]" alt="[%=Tooltips.Tooltip Topic%]">SDK</a>
            </li>
            <li>Static Link<ul><li>Email link</li><li>Site Feedback link (either with or without code on the site)</li><li>Social Media Link</li><li>Physical link (vanity URL) on store signage/receipt</li></ul></li>
            <li><a href="ivr.htm" title="[%=Tooltips.Tooltip Topic%]" alt="[%=Tooltips.Tooltip Topic%]">IVR/IVA</a> (for both Store and Contact Center measures)</li>
            <li><a href="panel.htm" title="[%=Tooltips.Tooltip Topic%]" alt="[%=Tooltips.Tooltip Topic%]">Panel Studies</a>
            </li>
        </ul>
        <p>Once a survey is presented, the CPPs no longer updates. So, if a user receives a survey in session or prematurely during onExit, we do not collect CPPs after they have left the survey.</p>
        <h2><a name="PASSING"></a>Passing CPPs Through An Intercept Survey</h2>
        <p>CPPs can be sent with the survey.  This passing happens at the time of survey submission.</p>
        <p>We have the ability within our code to set any CPP with a default value.  This allows us to set the default value for a given event on the site you wish to measure, until it is changed to another value which indicates an action has been taken.</p>
        <div class="example">
            <ul>
                <li>Logged in verses not logged in (default)</li>
                <li>Added to cart verses nothing added to cart (default)</li>
            </ul>
        </div>
        <p>The client can send as many CPPs as they would like to us, though the more CPPs they pass, the larger the session level cookie is, as this data is stored in the cookie until the survey is presented.</p>
        <h2><a name="PASSING2"></a>Passing CPPs With The URL API</h2>
        <p>The term "URL API" can be thought of as being synonymous with the term "Survey Link", or the link used in emails and Site Feedback.</p>
        <p>If the URL survey link is being used for email or where NO code is running on the site, then only the following default CPPs can be collected at the time of survey submission.</p>
        <ul>
            <li>sid</li>
            <li>survey_time</li>
            <li>survey_submits</li>
        </ul>
        <p>If the URL survey link is being used for Site Feedback where code is running on the site, then we can capture a larger list of CPPs than the three mentioned above.  You can find this list of CPPs <a href="https://fsrwiki.foreseeresults.com/display/IS/Survey-Link-SiteFeedback" target="_blank" title="Click to view this web site." alt="Click to view this web site.">here</a>.</p>
        <p>Clients can pass additional CPPs beyond the default mentioned above when using the URL API by adding them to the URL string.</p>
        <ul>
            <li>There is a limit of 2056 characters for the total URL string.</li>
            <li>Multiple CPPs within the URL string must be delimited by an ampersand (&amp;):<div class="example">http://survey.foreseeresults.com/survey/display?cid=8NNxB5BIVJdMBEBUBJ1Fpg==<span style="color: #ff0000; font-weight: bold;">&amp;</span>sid=link<b style="color: #ff0000;">&amp;</b>cpp[custid]=1234</div></li>
            <li>The API syntax follows a name/value assignment formula, which can be seen in the above URL string also<div class="example">&amp;cpp[name]=value)</div></li>
        </ul>
        <h2><a name="HOW"></a>How To Pass EPPs</h2>
        <p>The client must send us a file with the Foresee <span style="color: #ff0000;">respondent id or email id</span>. This can be done in the following ways:</p>
        <ul>
            <li>In the case of integration, the client has this information from the thank you page "handshake".</li>
            <li>In other cases, the client may get a custom extract from the analyst, append the data needed in additional columns then send it back to us via the SFTP site.</li>
            <li>Another way to append data is to use a unique identifier that the client is capturing as a CPP to match the data to a respondent.</li>
        </ul>
        <p>The client data is delivered to ForeSee through the use of SFTP.</p>
        <p>The data file that is sent to ForeSee can be the following formats:</p>
        <ul>
            <li>.csv</li>
            <li>.tsv</li>
            <li>Delimited .txt</li>
            <li>.sql</li>
        </ul>
        <p>The file that is sent to us must have column headers, the column order must not change, any additional columns added after the first load must be added as the last column, and we can only have one file per measurement.</p>
        <p>Data that is sent to us appears in the Portal the following day.</p>
        <p>How does the data/variables they are sending us get matched up to the correct respondent in the portal?  Is this done through a specific variable?</p>
    </body>
</html>